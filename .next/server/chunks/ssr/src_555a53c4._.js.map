{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACtB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,8OAAC;QAAI,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE","debugId":null}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/progress.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-tertiary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,yBAAW,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG9B,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACjC,8OAAC,oKAAA,CAAA,OAAsB;QACrB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,gEACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,oKAAA,CAAA,YAA2B;YAC1B,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;AAIhE,SAAS,WAAW,GAAG,oKAAA,CAAA,OAAsB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/actions.ts"],"sourcesContent":["\n// @ts-nocheck\n'use server';\n\nimport { z } from 'zod';\nimport { cookies } from 'next/headers';\nimport { redirect } from 'next/navigation';\nimport { revalidatePath } from 'next/cache';\n\nimport { createPost, findUserByEmail, updateUser, createUserInDb, getUserById, deletePost, updatePost, getPostById } from '@/lib/data';\nimport { auth as adminAuth } from 'firebase-admin';\nimport { db } from './firebase-admin';\n\nexport async function verifyAndSignInAction(idToken: string) {\n  console.log('actions: verifyAndSignInAction started.');\n  try {\n    if (!idToken) {\n      return { success: false, message: 'No token provided.' };\n    }\n    const decodedToken = await adminAuth().verifyIdToken(idToken);\n    console.log('actions: ID token verified successfully. Decoded token:', decodedToken);\n\n    const uid = decodedToken.uid;\n    const email = decodedToken.email;\n    const name = decodedToken.name;\n    const photoURL = decodedToken.picture;\n    const gender = decodedToken.gender || 'prefer_not_to_say';\n\n    if (!email || !name) {\n      console.error('actions: Google account missing email or name.');\n      return { success: false, message: 'Google account must have an email and name.' };\n    }\n\n    if (!email.endsWith('@iitdh.ac.in')) {\n      console.error(`actions: Email is not from @iitdh.ac.in domain: ${email}`);\n      return { success: false, message: `Only users with a @iitdh.ac.in email can sign up. Your email is ${email}.` };\n    }\n\n    console.log(`actions: Attempting to find user with email: ${email}`);\n    let user = await findUserByEmail(email);\n    let userId: string;\n\n    if (!user) {\n      console.log('actions: User not found. Creating new user in DB...');\n      const newUser = await createUserInDb({\n        name: name,\n        email: email,\n        photoURL: photoURL,\n        gender: gender\n      });\n      userId = newUser.id;\n      console.log('actions: New user created with ID:', userId);\n    } else {\n      userId = user.id;\n      console.log('actions: Existing user found with ID:', userId);\n    }\n\n    const cookieStore = cookies();\n    cookieStore.set('session_userId', userId, {\n      httpOnly: true,\n      secure: process.env.NODE_ENV === 'production',\n      maxAge: 60 * 60 * 24, // 1 day\n      path: '/',\n    });\n    cookieStore.set('session_authId', uid, {\n      httpOnly: true,\n      secure: process.env.NODE_ENV === 'production',\n      maxAge: 60 * 60 * 24, // 1 day\n      path: '/',\n    });\n\n    revalidatePath('/');\n    console.log('actions: Session cookie set successfully.');\n\n    return { success: true };\n  } catch (error: any) {\n    console.error('actions: Error during token verification:', error);\n    return { success: false, message: `Internal error: ${error.message}` };\n  }\n}\n\n\nexport async function logoutAction() {\n  const cookieStore = cookies();\n  const authId = cookieStore.get('session_authId')?.value;\n  if (authId) {\n    try {\n      await adminAuth().revokeRefreshTokens(authId);\n    } catch (error) {\n      console.error('Error revoking refresh tokens:', error);\n    }\n  }\n  cookieStore.delete('session_userId');\n  cookieStore.delete('session_authId');\n  revalidatePath('/');\n}\n\nconst postSchema = z.object({\n  title: z.string().min(1, 'Title is required.'),\n  restaurant: z.string().min(1, 'Restaurant is required.'),\n  totalAmount: z.coerce.number().min(0, 'Total amount must be positive.'),\n  contributionAmount: z.coerce.number().min(0, 'Contribution must be positive.'),\n  deadline: z.coerce.date(),\n  notes: z.string().optional(),\n  authorId: z.string(),\n});\n\nexport async function createPostAction(prevState: any, formData: FormData) {\n  const authorId = formData.get('authorId') as string;\n  const user = await getUserById(authorId);\n\n  if (!user || !user.userProfile.name || !user.contact.phone || !user.userProfile.gender || user.userProfile.gender === 'prefer_not_to_say') {\n    return { message: 'Please complete your profile (name, contact number, and gender) before posting.' };\n  }\n  \n  const data = Object.fromEntries(formData);\n\n  const parsed = postSchema.safeParse(data);\n\n  if (!parsed.success) {\n    console.error(parsed.error.flatten().fieldErrors);\n    const firstError = Object.values(parsed.error.flatten().fieldErrors)[0]?.[0];\n    return { message: firstError || 'Invalid post data. Please check your inputs.' };\n  }\n  \n  if (parsed.data.contributionAmount > parsed.data.totalAmount) {\n    return { message: 'Your contribution cannot be greater than the total order amount.' };\n  }\n\n  // Denormalize user data into the post\n  const postDataWithDenormalization = {\n    ...parsed.data,\n    institutionName: user.institution?.institutionName || null,\n    area: user.location?.area || null,\n    city: user.location?.city || null,\n  };\n\n  await createPost(postDataWithDenormalization);\n  revalidatePath('/');\n  redirect('/');\n}\n\nconst updatePostSchema = postSchema.omit({ authorId: true }).extend({\n  postId: z.string(),\n});\n\nexport async function updatePostAction(prevState: any, formData: FormData) {\n  const data = Object.fromEntries(formData);\n  const parsed = updatePostSchema.safeParse(data);\n\n  if (!parsed.success) {\n      return { message: 'Invalid post data. Please check your inputs.' };\n  }\n  \n  const post = await getPostById(parsed.data.postId);\n  if (!post) {\n      return { message: 'Post not found.' };\n  }\n\n  if (post.updatedAt) {\n      return { message: 'This post has already been updated once and cannot be edited again.' };\n  }\n\n  if (parsed.data.contributionAmount > parsed.data.totalAmount) {\n      return { message: 'Your contribution cannot be greater than the total order amount.' };\n  }\n\n  await updatePost(parsed.data.postId, parsed.data);\n  revalidatePath('/my-posts');\n  redirect('/my-posts');\n}\n\nexport async function deletePostAction(postId: string) {\n  await deletePost(postId);\n  revalidatePath('/my-posts');\n}\n\n\nconst profileSchema = z.object({\n  id: z.string(),\n  name: z.string().min(2, 'Name must be at least 2 characters.'),\n  contactNumber: z.string().min(10, 'Contact number must be at least 10 digits.'),\n  gender: z.enum(['male', 'female', 'other', 'prefer_not_to_say']),\n  institutionType: z.enum(['College/University', 'Hostel/PG/Apartment']).optional(),\n  institutionName: z.string().optional(),\n  area: z.string().optional(),\n  city: z.string().optional(),\n  pinCode: z.string().optional(),\n}).refine(data => data.gender !== 'prefer_not_to_say', {\n  message: \"Please select a gender.\",\n  path: [\"gender\"],\n});\n\nexport async function updateProfileAction(prevState: any, formData: FormData) {\n  const parsed = profileSchema.safeParse(Object.fromEntries(formData));\n\n  if (!parsed.success) {\n    return { message: 'Invalid profile data.' };\n  }\n\n  const { id, institutionType, institutionName, area, ...data } = parsed.data;\n\n  const updates: Record<string, any> = {\n    'userProfile.name': data.name,\n    'userProfile.gender': data.gender || null,\n    'contact.phone': data.contactNumber || null,\n    'contact.whatsapp': data.contactNumber || null, // Assuming phone and whatsapp are the same\n    'institution.institutionType': institutionType || null,\n    'institution.institutionName': institutionName || null,\n    'location.area': area || null,\n    'location.city': data.city || null,\n    'location.pinCode': data.pinCode || null,\n    'institution.hostelOrPG': null, // Explicitly remove this field\n  };\n\n  await updateUser(id, updates);\n\n  revalidatePath('/profile');\n  revalidatePath('/');\n  return { message: 'Profile updated successfully!' };\n}\n\nexport async function subscribeAction(plan: 'daily' | 'weekly' | 'monthly', userId: string) {\n  let expiryDays = 0;\n  if (plan === 'daily') expiryDays = 1;\n  if (plan === 'weekly') expiryDays = 7;\n  if (plan === 'monthly') expiryDays = 30;\n\n  const expiryDate = new Date();\n  expiryDate.setDate(expiryDate.getDate() + expiryDays);\n\n  await updateUser(userId, {\n    'subscription.status': 'active',\n    'subscription.plan': plan,\n    'subscription.expiry': expiryDate.toISOString(),\n  });\n\n  revalidatePath('/pricing');\n  revalidatePath('/');\n  revalidatePath('/profile');\n}\n\nconst feedbackSchema = z.object({\n  email: z.string().email().optional().or(z.literal('')),\n  feedback: z.string().min(10, 'Feedback must be at least 10 characters.'),\n});\n\nexport async function submitFeedbackAction(prevState: any, formData: FormData) {\n  try {\n    const data = Object.fromEntries(formData);\n    const parsed = feedbackSchema.safeParse(data);\n\n    if (!parsed.success) {\n      const firstError = Object.values(parsed.error.flatten().fieldErrors)[0]?.[0];\n      return { success: false, message: firstError || 'Invalid data.' };\n    }\n\n    const feedbackData = {\n      email: parsed.data.email || null,\n      feedback: parsed.data.feedback,\n      createdAt: new Date(),\n    };\n\n    await db.collection('feedback').add(feedbackData);\n\n    return { success: true, message: 'Thank you for your feedback!' };\n  } catch (error) {\n    return { success: false, message: 'Something went wrong. Please try again.' };\n  }\n}\n"],"names":[],"mappings":";;;;;;IA4KsB,mBAAA,WAAA,GAAA,CAAA,GAAA,sNAAA,CAAA,wBAAA,EAAA,8CAAA,sNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,sNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,kKAAA,CAAA,OAAoB;AAEnC,MAAM,gBAAgB,kKAAA,CAAA,UAAuB;AAE7C,MAAM,eAAe,kKAAA,CAAA,SAAsB;AAE3C,MAAM,cAAc,kKAAA,CAAA,QAAqB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,UAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG,kKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,kKAAA,CAAA,UAAuB;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,8OAAC,kKAAA,CAAA,QAAqB;wBAAC,WAAU;;0CAC/B,8OAAC,4LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,kKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,qDACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,kKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,kKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/modal.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n} from \"@/components/ui/dialog\"\n\ninterface ModalProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  children: React.ReactNode;\n}\n\nexport function Modal({ open, onOpenChange, children }: ModalProps) {\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent>\n        <DialogHeader className=\"sr-only\">\n          <DialogTitle>Action Required</DialogTitle>\n          <DialogDescription>\n             A prompt to either log in or subscribe to continue.\n          </DialogDescription>\n        </DialogHeader>\n        {children}\n      </DialogContent>\n    </Dialog>\n  )\n}\n"],"names":[],"mappings":";;;;AAGA;AAHA;;;AAiBO,SAAS,MAAM,EAAE,IAAI,EAAE,YAAY,EAAE,QAAQ,EAAc;IAChE,qBACE,8OAAC,kIAAA,CAAA,SAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,8OAAC,kIAAA,CAAA,gBAAa;;8BACZ,8OAAC,kIAAA,CAAA,eAAY;oBAAC,WAAU;;sCACtB,8OAAC,kIAAA,CAAA,cAAW;sCAAC;;;;;;sCACb,8OAAC,kIAAA,CAAA,oBAAiB;sCAAC;;;;;;;;;;;;gBAIpB;;;;;;;;;;;;AAIT","debugId":null}},
    {"offset": {"line": 289, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,kBAAkB,mKAAA,CAAA,WAAyB;AAEjD,MAAM,UAAU,mKAAA,CAAA,OAAqB;AAErC,MAAM,iBAAiB,mKAAA,CAAA,UAAwB;AAE/C,MAAM,+BAAiB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGpC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC1C,8OAAC,mKAAA,CAAA,UAAwB;QACvB,KAAK;QACL,YAAY;QACZ,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sYACA;QAED,GAAG,KAAK;;;;;;AAGb,eAAe,WAAW,GAAG,mKAAA,CAAA,UAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 325, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/my-post-card.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { Clock, Info, Utensils, Edit, Trash2, AlertTriangle } from 'lucide-react';\nimport type { Post } from '@/lib/types';\nimport { formatDistanceToNow } from 'date-fns';\nimport { formatCurrency } from '@/lib/utils';\nimport Link from 'next/link';\nimport { Badge } from './ui/badge';\nimport { Progress } from './ui/progress';\nimport { Button } from './ui/button';\nimport { deletePostAction } from '@/lib/actions';\nimport { useTransition } from 'react';\nimport { Modal } from './ui/modal';\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\n\nconst RestaurantIcon = ({ name }: { name: string }) => {\n  const lowerCaseName = name.toLowerCase();\n  if (lowerCaseName.includes('zomato')) {\n    return (\n      <svg className=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M12.2311 3.52222C11.3911 2.52222 9.79111 2.52222 8.95111 3.52222C8.11111 4.52222 8.11111 6.12222 8.95111 7.12222C9.79111 8.12222 11.3911 8.12222 12.2311 7.12222C13.0711 6.12222 13.0711 4.52222 12.2311 3.52222ZM17.16 3.5C16.32 2.5 14.72 2.5 13.88 3.5C13.04 4.5 13.04 6.1 13.88 7.1C14.72 8.1 16.32 8.1 17.16 7.1C18 6.1 18 4.5 17.16 3.5ZM17.2 9.54C16.5 9.17 15.65 9.32 15.06 9.91L12.56 12.41C11.97 13 11.02 12.85 10.65 12.15L8.2 8.01999C7.83 7.31999 6.86 7.02999 6.07 7.42999C4.48 8.22999 4.34 10.51 5.72 11.89L9.34 15.51C10.15 16.32 10.02 17.65 9.10 18.3L7.33 19.6C6.70 20.04 6.86 21.01 7.55 21.25C13.29 23.23 18.38 18.2 20.43 12.3C20.68 11.61 19.72 11.16 19.29 11.79L17.52 13.56C16.87 14.21 15.77 14.13 15.22 13.38L16.27 11.04C16.82 10.29 17.92 9.91 17.2 9.54Z\" fill=\"#E23744\"/>\n      </svg>\n    );\n  }\n  if (lowerCaseName.includes('swiggy')) {\n    return (\n      <svg className=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z\" fill=\"#FC8019\"/>\n        <path d=\"M15.89 10.76C15.61 10.23 15.14 9.87 14.58 9.75C14.02 9.63 13.43 9.76 12.97 10.10L11.31 11.45C10.95 11.73 10.46 11.79 10.04 11.60C9.62 11.41 9.31 11.01 9.24 10.55L8.93 8.35C8.84 7.78 8.32 7.35 7.75 7.44C7.18 7.53 6.75 8.05 6.84 8.62L7.33 12.27C7.45 13.06 8.01 13.72 8.75 13.97C9.49 14.22 10.28 14.02 10.84 13.49L12.50 12.14C12.86 11.86 13.35 11.80 13.77 11.99C14.19 12.18 14.50 12.58 14.57 13.04L14.88 15.24C14.97 15.81 15.49 16.24 16.06 16.15C16.63 16.06 17.06 15.54 16.97 14.97L16.48 11.32C16.36 10.53 15.89 10.76 15.89 10.76Z\" fill=\"#FC8019\"/>\n      </svg>\n    );\n  }\n  return <Utensils className=\"w-4 h-4\" />;\n};\n\n\nexport function MyPostCard({ post }: { post: Post }) {\n  const [isPending, startTransition] = useTransition();\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n  \n  const remainingNeeded = post.totalAmount - post.contributionAmount;\n  const progressPercentage = (post.contributionAmount / post.totalAmount) * 100;\n  const deadline = post.deadline ? new Date(post.deadline) : null;\n  const allNotes = [post.title, post.notes].filter(Boolean).join(' - ');\n  const hasBeenUpdated = !!post.updatedAt;\n\n  const handleDelete = () => {\n    startTransition(() => {\n      deletePostAction(post.id);\n      setShowDeleteConfirm(false);\n    });\n  };\n\n  return (\n    <div className=\"bg-card border rounded-lg overflow-hidden shadow-sm p-4 space-y-4 flex flex-col\">\n      <div className=\"flex items-start justify-between gap-4\">\n        <div className=\"flex-1 min-w-0\">\n          <p className=\"font-semibold text-base text-primary truncate\">\n             {post.title}\n          </p>\n          <div className=\"flex items-center gap-2 flex-wrap mt-1\">\n            <Badge variant={hasBeenUpdated ? \"secondary\" : \"outline\"}>\n              {hasBeenUpdated ? \"Updated\" : \"Not updated\"}\n            </Badge>\n          </div>\n        </div>\n\n        <div className=\"flex flex-col items-end gap-2 text-sm text-muted-foreground text-right flex-shrink-0\">\n          <div className=\"flex items-center gap-1.5\">\n            <RestaurantIcon name={post.restaurant} />\n            <span className=\"font-medium truncate\">{post.restaurant}</span>\n          </div>\n          <div className=\"flex items-center gap-1.5\">\n            <Clock className=\"w-4 h-4\" />\n            <span>{deadline ? formatDistanceToNow(deadline, { addSuffix: true }) : 'N/A'}</span>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"space-y-2 flex-grow\">\n          <div className=\"flex justify-between items-center text-xs text-muted-foreground\">\n              <span>{formatCurrency(post.contributionAmount)}</span>\n              <span>{formatCurrency(post.totalAmount)}</span>\n          </div>\n          <Progress value={progressPercentage} className=\"h-2\" />\n          {allNotes && <p className=\"text-sm border-l-2 border-accent pl-3 mt-2 py-1 bg-background rounded-r-md flex items-start gap-2\"><Info className=\"w-4 h-4 mt-0.5 text-accent\"/><span>{allNotes}</span></p>}\n      </div>\n      \n      <div className=\"border-t pt-4 flex justify-end items-center gap-2\">\n        <TooltipProvider>\n            <Tooltip>\n                <TooltipTrigger asChild>\n                    <div tabIndex={0}> \n                        <Button asChild variant=\"outline\" size=\"icon\" disabled={hasBeenUpdated}>\n                            <Link href={hasBeenUpdated ? '#' : `/edit-post/${post.id}`} aria-disabled={hasBeenUpdated}>\n                                <Edit className=\"w-4 h-4\" />\n                            </Link>\n                        </Button>\n                    </div>\n                </TooltipTrigger>\n                {hasBeenUpdated && (\n                    <TooltipContent>\n                        <p>This post has already been updated once.</p>\n                    </TooltipContent>\n                )}\n            </Tooltip>\n        </TooltipProvider>\n\n        <Button variant=\"destructive\" size=\"icon\" onClick={() => setShowDeleteConfirm(true)}>\n            <Trash2 className=\"w-4 h-4\" />\n        </Button>\n      </div>\n\n       {showDeleteConfirm && (\n        <Modal open={showDeleteConfirm} onOpenChange={setShowDeleteConfirm}>\n          <div className=\"text-center p-4\">\n            <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/50\">\n                <AlertTriangle className=\"h-6 w-6 text-red-600 dark:text-red-400\" />\n            </div>\n            <h3 className=\"text-lg font-semibold mt-4\">Delete Post</h3>\n            <p className=\"mb-6 mt-2 text-muted-foreground\">\n                Are you sure you want to delete this post? This action cannot be undone.\n            </p>\n            <div className=\"flex justify-center gap-4\">\n                 <Button variant=\"outline\" onClick={() => setShowDeleteConfirm(false)}>\n                    Cancel\n                </Button>\n                <Button variant=\"destructive\" onClick={handleDelete} disabled={isPending}>\n                    {isPending ? \"Deleting...\" : \"Delete\"}\n                </Button>\n            </div>\n          </div>\n        </Modal>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}